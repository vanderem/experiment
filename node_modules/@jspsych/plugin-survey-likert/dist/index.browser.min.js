var jsPsychSurveyLikert=function(i){"use strict";var j="2.1.0";const P={name:"survey-likert",version:j,parameters:{questions:{type:i.ParameterType.COMPLEX,array:!0,nested:{prompt:{type:i.ParameterType.HTML_STRING,default:void 0},labels:{type:i.ParameterType.STRING,array:!0,default:void 0},required:{type:i.ParameterType.BOOL,default:!1},name:{type:i.ParameterType.STRING,default:""}}},randomize_question_order:{type:i.ParameterType.BOOL,default:!1},preamble:{type:i.ParameterType.HTML_STRING,default:null},scale_width:{type:i.ParameterType.INT,default:null},button_label:{type:i.ParameterType.STRING,default:"Continue"},autocomplete:{type:i.ParameterType.BOOL,default:!1}},data:{response:{type:i.ParameterType.OBJECT},rt:{type:i.ParameterType.INT},question_order:{type:i.ParameterType.INT,array:!0}},citations:{apa:"de Leeuw, J. R., Gilbert, R. A., & Luchterhandt, B. (2023). jsPsych: Enabling an Open-Source Collaborative Ecosystem of Behavioral Experiments. Journal of Open Source Software, 8(85), 5351. https://doi.org/10.21105/joss.05351 ",bibtex:'@article{Leeuw2023jsPsych, 	author = {de Leeuw, Joshua R. and Gilbert, Rebecca A. and Luchterhandt, Bj{\\" o}rn}, 	journal = {Journal of Open Source Software}, 	doi = {10.21105/joss.05351}, 	issn = {2475-9066}, 	number = {85}, 	year = {2023}, 	month = {may 11}, 	pages = {5351}, 	publisher = {Open Journals}, 	title = {jsPsych: Enabling an {Open}-{Source} {Collaborative} {Ecosystem} of {Behavioral} {Experiments}}, 	url = {https://joss.theoj.org/papers/10.21105/joss.05351}, 	volume = {8}, }  '}};class h{constructor(e){this.jsPsych=e}trial(e,r){if(r.scale_width!==null)var o=r.scale_width+"px";else var o="100%";var t="";t+='<style id="jspsych-survey-likert-css">',t+=".jspsych-survey-likert-statement { display:block; font-size: 16px; padding-top: 40px; margin-bottom:10px; }.jspsych-survey-likert-opts { list-style:none; width:"+o+"; margin:auto; padding:0 0 35px; display:block; font-size: 14px; line-height:1.1em; }.jspsych-survey-likert-opt-label { line-height: 1.1em; color: #444; }.jspsych-survey-likert-opts:before { content: ''; position:relative; top:11px; /*left:9.5%;*/ display:block; background-color:#efefef; height:4px; width:100%; }.jspsych-survey-likert-opts:last-of-type { border-bottom: 0; }.jspsych-survey-likert-opts li { display:inline-block; /*width:19%;*/ text-align:center; vertical-align: top; }.jspsych-survey-likert-opts li input[type=radio] { display:block; position:relative; top:0; left:50%; margin-left:-6px; }",t+="</style>",r.preamble!==null&&(t+='<div id="jspsych-survey-likert-preamble" class="jspsych-survey-likert-preamble">'+r.preamble+"</div>"),r.autocomplete?t+='<form id="jspsych-survey-likert-form">':t+='<form id="jspsych-survey-likert-form" autocomplete="off">';for(var l=[],a=0;a<r.questions.length;a++)l.push(a);r.randomize_question_order&&(l=this.jsPsych.randomization.shuffle(l));for(var a=0;a<r.questions.length;a++){var s=r.questions[l[a]];t+='<label class="jspsych-survey-likert-statement">'+s.prompt+"</label>";for(var c=100/s.labels.length,n='<ul class="jspsych-survey-likert-opts" data-name="'+s.name+'" data-radio-group="Q'+l[a]+'">',p=0;p<s.labels.length;p++)n+='<li style="width:'+c+'%"><label class="jspsych-survey-likert-opt-label"><input type="radio" name="Q'+l[a]+'" value="'+p+'"',s.required&&(n+=" required"),n+=">"+s.labels[p]+"</label></li>";n+="</ul>",t+=n}t+='<input type="submit" id="jspsych-survey-likert-next" class="jspsych-survey-likert jspsych-btn" value="'+r.button_label+'"></input>',t+="</form>",e.innerHTML=t,e.querySelector("#jspsych-survey-likert-form").addEventListener("submit",T=>{T.preventDefault();for(var _=performance.now(),q=Math.round(_-k),d={},y=e.querySelectorAll("#jspsych-survey-likert-form .jspsych-survey-likert-opts"),u=0;u<y.length;u++){var m=y[u].dataset.radioGroup,v=e.querySelector('input[name="'+m+'"]:checked');if(v===null)var f="";else var f=parseInt(v.value);var b={};if(y[u].attributes["data-name"].value!=="")var g=y[u].attributes["data-name"].value;else var g=m;b[g]=f,Object.assign(d,b)}var S={rt:q,response:d,question_order:l};this.jsPsych.finishTrial(S)});var k=performance.now()}simulate(e,r,o,t){r=="data-only"&&(t(),this.simulate_data_only(e,o)),r=="visual"&&this.simulate_visual(e,o,t)}create_simulation_data(e,r){const o={};let t=1e3;for(const s of e.questions){const c=s.name?s.name:`Q${e.questions.indexOf(s)}`;o[c]=this.jsPsych.randomization.randomInt(0,s.labels.length-1),t+=this.jsPsych.randomization.sampleExGaussian(1500,400,.005,!0)}const l={response:o,rt:t,question_order:e.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(e.questions.length).keys()]):[...Array(e.questions.length).keys()]},a=this.jsPsych.pluginAPI.mergeSimulationData(l,r);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,a),a}simulate_data_only(e,r){const o=this.create_simulation_data(e,r);this.jsPsych.finishTrial(o)}simulate_visual(e,r,o){const t=this.create_simulation_data(e,r),l=this.jsPsych.getDisplayElement();this.trial(l,e),o();const a=Object.entries(t.response);for(let s=0;s<a.length;s++)this.jsPsych.pluginAPI.clickTarget(l.querySelector(`input[type="radio"][name="${a[s][0]}"][value="${a[s][1]}"]`),(t.rt-1e3)/a.length*(s+1));this.jsPsych.pluginAPI.clickTarget(l.querySelector("#jspsych-survey-likert-next"),t.rt)}}return h.info=P,h}(jsPsychModule);
//# sourceMappingURL=https://unpkg.com/@jspsych/plugin-survey-likert@2.1.0/dist/index.browser.min.js.map
